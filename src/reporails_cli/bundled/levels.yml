# Canonical level definitions for the Reporails framework.
# Source of truth: docs/capability-levels.md (Capability Assessment Matrix)
#
# CLI consumers should prefer this file over any bundled copy.

levels:
  L0:
    name: Absent
    description: No instruction file
    rules: []

  L1:
    name: Basic
    description: Instruction file exists, reviewed, has basic content
    rules: [CLAUDE_M1, S1, C1, C2, C4, C8, C9, C10, C12]

  L2:
    name: Scoped
    description: Project-specific constraints and tool delegation
    rules: [C5, C7, S2, S3, S5, M1]

  L3:
    name: Structured
    description: Clear sections, external references, organized content
    rules: [C3, C6, C11, E1, E6, E7, E8, M2, M4]

  L4:
    name: Abstracted
    description: Rules directory, path-scoped loading
    rules: [CLAUDE_S1, CLAUDE_S2, CLAUDE_S3, CLAUDE_M2, E3, E4, E5, M3]

  L5:
    name: Governed
    description: Team policies, process controls, compliance tracking
    rules: [CLAUDE_G1, G1, G2, G3, G7]

  L6:
    name: Adaptive
    description: Backbone-driven navigation, contracts
    rules: [S4, E2, G4, G5, G6, M5]

# Gate-based capability detection
# Plain string = required (AND with siblings). Nested list = any-of (OR).
detection:
  L1: [has_instruction_file]
  L2: [has_explicit_constraints]
  L3:
    - has_sections
    - [has_imports, has_multiple_instruction_files]
  L4: [has_rules_dir]
  L5: [component_count_3plus, has_shared_files]
  L6: [has_backbone]
