rules:
  # Heuristic gate: detect ownership assignment
  # Positive indicators (INFO) plus problem detector (WARNING)

  - id: G4-owner-in-frontmatter
    message: "Owner specified in YAML frontmatter"
    severity: INFO
    languages: [generic]
    pattern-regex: "^---[\\s\\S]*?owner:\\s*[\"']?\\w+"
    paths:
      include:
        - "**/CLAUDE.md"
        - "**/.claude/rules/*.md"

  - id: G4-maintainer-documented
    message: "Maintainer/owner documented in file"
    severity: INFO
    languages: [generic]
    pattern-regex: "(?i)(?:maintained|owned)\\s+by"
    paths:
      include:
        - "**/CLAUDE.md"
        - "**/.claude/rules/*.md"

  - id: G4-rule-file-no-owner
    message: "Rule file without owner in frontmatter - assign ownership"
    severity: WARNING
    languages: [generic]
    # Detect frontmatter that doesn't include owner field
    pattern-regex: "^---\\n(?:(?!owner:)[^\\n]*\\n)+---"
    paths:
      include:
        - "**/.claude/rules/*.md"
