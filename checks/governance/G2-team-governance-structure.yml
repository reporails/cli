rules:
  # Heuristic gate: detect governance indicators
  # Positive indicators (INFO) for context, plus a gate pattern (WARNING)

  - id: G2-documents-ownership
    message: "Documents ownership/responsibility structure"
    severity: INFO
    languages: [generic]
    pattern-regex: "(?i)(?:owner|responsible|maintainer|lead)"
    paths:
      include:
        - "**/CLAUDE.md"
        - "**/.claude/rules/*.md"
        - "**/CODEOWNERS"

  - id: G2-has-codeowners
    message: "CODEOWNERS file present for governance"
    severity: INFO
    languages: [generic]
    pattern-regex: ".*"
    paths:
      include:
        - "**/CODEOWNERS"
        - "**/.github/CODEOWNERS"

  - id: G2-multiple-rule-files-no-owner
    message: "Multiple rule files without clear ownership - governance structure may be needed"
    severity: WARNING
    languages: [generic]
    # Detect rule files that don't specify an owner in frontmatter
    pattern-regex: "^---[\\s\\S]*?---(?![\\s\\S]*owner:)"
    paths:
      include:
        - "**/.claude/rules/*.md"
