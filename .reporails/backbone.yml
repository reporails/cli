version: 3
generator: manual

depends_on:
  rules:
    schemas: [rule, agent, package, levels]
    artifacts: [levels, capability_levels]

agents:
  claude:
    main_instruction_file: CLAUDE.md
    config: .claude/mcp.json
    skills: .claude/skills/
    rules: .claude/rules/

modules:
  core: src/reporails_cli/core/
  interfaces: src/reporails_cli/interfaces/
  formatters: src/reporails_cli/formatters/
  bundled: src/reporails_cli/bundled/
  templates: src/reporails_cli/templates/

bundled:
  capability_patterns: src/reporails_cli/bundled/capability-patterns.yml

artifacts:
  changelog: UNRELEASED.md
  specs: docs/specs/

context:
  role: developer
  description: "You are developing the reporails CLI, not an end user."
  personas:
    developer: "Modify source, run tests, read specs"
    cli_user: "Install package, run ails check"
    mcp_user: "Use reporails via Claude Code MCP integration"

meta:
  version_file: VERSION

skills:
  check:
    path: .claude/skills/check/
    entry: SKILL.md
  qa:
    path: .claude/skills/qa/
    entry: SKILL.md
  plan-feature:
    path: .claude/skills/plan-feature/
    entry: SKILL.md
  add-changelog-entry:
    path: .claude/skills/add-changelog-entry/
    entry: SKILL.md
